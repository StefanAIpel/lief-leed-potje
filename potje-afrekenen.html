<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Potje Afrekenen | Straatambassadeurs Vathorst & Hooglanderveen</title>
    <link rel="stylesheet" href="styles.css?v=20260211g">
    <meta name="theme-color" content="#1a2744">
    <meta name="description" content="Reken je Lief & Leed potje af en draag de administratie over aan de kerngroep. Straatambassadeurs Vathorst & Hooglanderveen.">
    <meta property="og:title" content="Potje Afrekenen - Straatambassadeurs">
    <meta property="og:description" content="Administratie overdragen aan de kerngroep. Straatambassadeurs Vathorst & Hooglanderveen.">
    <meta property="og:url" content="https://straatambassadeurs.nl/potje-afrekenen.html">
    <meta property="og:image" content="https://straatambassadeurs.nl/logo.jpg">
    <link rel="canonical" href="https://straatambassadeurs.nl/potje-afrekenen.html">
    <link rel="icon" href="favicon.png">
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
</head>
<body>
        <header>
            <div class="header-content">
                <a href="index.html" class="logo" style="text-decoration:none;">
                    <picture><source media="(max-width: 600px)" srcset="images/logo-square.png"><img src="images/logo-header-new.png" alt="Straatambassadeurs" class="logo-img"></picture>
                    <div>
                        <div class="header-title">Vathorst &<br>Hooglanderveen</div>
                        <div class="header-subtitle">Samen maken we<br>de buurt mooier!</div>
                    </div>
                </a>
                <button class="nav-toggle" onclick="document.querySelector('nav').classList.toggle('active')" aria-label="Menu"><span class="nav-toggle-label">MENU</span> ‚ò∞</button>
                <nav>
                    <a href="index.html">Home</a>
                    <a href="nieuws.html">Nieuws</a>
                    <a href="kaart.html">Kaart</a>
                    <div class="nav-dropdown">
                        <a href="over-sa.html" class="nav-dropdown-toggle">Ambassadeurs ‚ñæ</a>
                        <div class="nav-dropdown-menu">
                            <a href="over-sa.html">Informatie</a>
                            <a href="aanmelden.html">Aanmelden</a>
                            <a href="potje-aanvragen.html">Potje aanvragen</a>
                            <a href="potje-afrekenen.html">Potje afrekenen</a>
                        </div>
                    </div>
                    <a href="over-kerngroep.html">Kerngroep</a>
                    <a href="contact.html">Contact</a>
                    <a href="admin.html">Beheer</a>
                </nav>
                <button class="sidebar-toggle" onclick="openSidebar()" aria-label="Alle pagina's">‚ò∞</button>
                <div class="header-search">
                    <input type="text" id="site-search" placeholder="Zoeken..." autocomplete="off">
                    <div id="search-results" class="search-results"></div>
                </div>
            </div>
        </header>

        <div class="container">
        <main>
            <div class="form-card">
                <h2 class="form-title">üìã Potje Afrekenen</h2>
                <p style="text-align:center; color: var(--gray-500); margin-bottom: 20px;">Administratie overdragen aan de kerngroep</p>
                
                <div class="info-box" style="margin-bottom: 20px;">
                    <span class="info-box-icon">‚ÑπÔ∏è</span>
                    <div>
                        Met dit formulier kun je de administratie van je potje overdragen aan de kerngroep. 
                        Vul je bonnen in, upload de bonnetjes, en geef aan wat je hierna wilt doen.
                    </div>
                </div>
                
                <form id="afrekening-form">
                    <!-- 1. Persoonlijke gegevens -->
                    <div class="form-section">
                        <h4>Jouw gegevens</h4>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="naam">Je naam <span class="required">*</span></label>
                                <input type="text" id="naam" name="naam" required placeholder="Je volledige naam">
                            </div>
                            <div class="form-group">
                                <label for="straat">Straat <span class="required">*</span></label>
                                <select id="straat" name="straat" required>
                                    <option value="">-- Kies je straat --</option>
                                    <option value="Ameliapolder">Ameliapolder</option>
                                    <option value="Archemerberg">Archemerberg</option>
                                    <option value="Beemster">Beemster</option>
                                    <option value="Boterberg">Boterberg</option>
                                    <option value="Braamberg">Braamberg</option>
                                    <option value="De Gavel">De Gavel</option>
                                    <option value="Dirk van Weelaan">Dirk van Weelaan</option>
                                    <option value="Durgerdamhaven">Durgerdamhaven</option>
                                    <option value="Eilandspolder">Eilandspolder</option>
                                    <option value="Emminkhuizerberg">Emminkhuizerberg</option>
                                    <option value="Eschberg">Eschberg</option>
                                    <option value="Geulemerberg">Geulemerberg</option>
                                    <option value="Heideweg">Heideweg</option>
                                    <option value="Hoekveen">Hoekveen</option>
                                    <option value="Hofstede">Hofstede</option>
                                    <option value="Johannes van Rossumlaan">Johannes van Rossumlaan</option>
                                    <option value="Kolhornkade">Kolhornkade</option>
                                    <option value="Laakboulevard">Laakboulevard</option>
                                    <option value="Laan van Bovenduist">Laan van Bovenduist</option>
                                    <option value="Laaxumstraat">Laaxumstraat</option>
                                    <option value="Landweg">Landweg</option>
                                    <option value="Lauwersmeer">Lauwersmeer</option>
                                    <option value="Lofoten">Lofoten</option>
                                    <option value="Paulinapolder">Paulinapolder</option>
                                    <option value="Purmer">Purmer</option>
                                    <option value="Riesenberg">Riesenberg</option>
                                    <option value="Straat van Dover">Straat van Dover</option>
                                    <option value="Suzannepolder">Suzannepolder</option>
                                    <option value="Tankenberg">Tankenberg</option>
                                    <option value="Vijlenerberg">Vijlenerberg</option>
                                    <option value="Weteringkade">Weteringkade</option>
                                    <option value="Zeisum">Zeisum</option>
                                    <option value="Zijpenberg">Zijpenberg</option>
                                    <option value="Zwarte Zee">Zwarte Zee</option>
                                    <option value="Anders">Anders (vul hieronder in)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div id="andere-straat-veld" class="form-group hidden">
                            <label for="andere-straat">Andere straat</label>
                            <input type="text" id="andere-straat" name="andere-straat" placeholder="Vul je straatnaam in">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="telefoon">Telefoonnummer <span class="required">*</span></label>
                                <input type="tel" id="telefoon" name="telefoon" required placeholder="06-12345678">
                            </div>
                            <div class="form-group">
                                <label for="email">E-mailadres</label>
                                <input type="email" id="email" name="email" placeholder="jouw@email.nl">
                                <span class="field-hint">Voor bevestiging van je afrekening</span>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Bonregels -->
                    <div class="form-section">
                        <h4>Overzicht uitgaven</h4>
                        
                        <div class="form-group">
                            <label>Bonregels <span class="required">*</span></label>
                            <div id="bonregels-container">
                                <div class="bonregel" style="display:grid; grid-template-columns: 50px 1fr 90px 32px; gap:6px; align-items:center; margin-bottom:4px;">
                                    <input type="text" class="bon-nr" value="1" style="padding:8px; font-size:0.85rem; border:1px solid #93c5fd; border-radius:6px; text-align:center;">
                                    <input type="text" class="bon-omschrijving" placeholder="Omschrijving" style="padding:8px; font-size:0.85rem; border:1px solid #93c5fd; border-radius:6px;">
                                    <input type="text" class="bon-bedrag" placeholder="‚Ç¨ 0,00" style="padding:8px; font-size:0.85rem; border:1px solid #93c5fd; border-radius:6px; text-align:right;" oninput="berekenTotaal()">
                                    <span></span>
                                </div>
                            </div>
                            <div style="display:flex; justify-content:space-between; align-items:center; margin-top:8px;">
                                <button type="button" onclick="voegBonregelToe()" style="background:var(--street-blue); color:white; border:none; padding:6px 14px; border-radius:6px; font-size:0.8rem; cursor:pointer;">+ Regel toevoegen</button>
                                <div style="font-weight:700; font-size:0.9rem; color:var(--night-blue);">Totaal: ‚Ç¨ <span id="bon-totaal">0,00</span></div>
                            </div>
                            <span class="field-hint">Voeg per bon een regel toe met nummer, omschrijving en bedrag</span>
                        </div>
                    </div>

                    <!-- 3. Bonnetjes upload -->
                    <div class="form-section">
                        <h4>Bonnetjes uploaden</h4>
                        
                        <div class="form-group">
                            <label for="bonnetjes-upload">Gescande bonnetjes</label>
                            <input type="file" id="bonnetjes-upload" name="bonnetjes" multiple accept="image/*,.pdf" style="padding: 8px; border: 1px dashed var(--gray-300); border-radius: 8px; width: 100%; background: var(--gray-50);">
                            <span class="field-hint">Foto's of PDF's van bonnetjes (max. 10 MB per bestand)</span>
                            <div id="bonnetjes-preview" style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px;"></div>
                        </div>
                    </div>

                    <!-- 4. Wat wil je hierna? -->
                    <div class="form-section">
                        <h4>Wat wil je hierna?</h4>
                        
                        <div class="form-group">
                            <label>Kies een optie <span class="required">*</span></label>
                            <div class="radio-group vertical">
                                <label class="radio-label">
                                    <input type="radio" name="vervolg" value="nieuw_potje" required onchange="toggleVervolg()">
                                    <span>Ik wil een nieuw potje aanvragen</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="vervolg" value="stoppen" onchange="toggleVervolg()">
                                    <span>Ik stop als straatambassadeur</span>
                                </label>
                            </div>
                        </div>
                        
                        <div id="vervolg-nieuw" class="conditional-field hidden" style="margin-top: 12px;">
                            <div class="info-box">
                                <span class="info-box-icon">üëâ</span>
                                <div>
                                    Mooi! Nadat je deze afrekening hebt ingediend, kun je direct een nieuw potje aanvragen via 
                                    <a href="potje-aanvragen.html"><strong>Potje aanvragen</strong></a>.
                                </div>
                            </div>
                        </div>
                        
                        <div id="vervolg-stoppen" class="conditional-field hidden" style="margin-top: 12px;">
                            <div class="info-box" style="background: #fffbeb; border-left-color: #f59e0b;">
                                <span class="info-box-icon">üí∞</span>
                                <div>
                                    <strong>Heb je nog geld over van je potje?</strong><br>
                                    Maak het resterende bedrag over naar:<br><br>
                                    <strong>S.P.M. Dijkstra</strong><br>
                                    <strong>NL95 RABO 0316 4897 51</strong><br>
                                    o.v.v. <em>afrekening potje <span class="straat-invulling">[jouw straatnaam]</span></em><br><br>
                                    Hartelijk dank! üß°
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Honeypot -->
                    <div class="hp-field" aria-hidden="true">
                        <label for="company">Bedrijf</label>
                        <input type="text" id="company" name="company" tabindex="-1" autocomplete="off">
                    </div>

                    <!-- Cloudflare Turnstile -->
                    <div class="cf-turnstile" data-sitekey="0x4AAAAAACZV3vQxfcbSj8Va" data-theme="light"></div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-gold btn-full">
                            üìã Afrekening indienen
                        </button>
                    </div>
                </form>
            </div>

            <div id="success-message" class="success-message hidden">
                <div class="success-icon">‚úÖ</div>
                <h3>Afrekening ingediend!</h3>
                <p>
                    Dankjewel voor je inzet als straatambassadeur! De kerngroep ontvangt je afrekening 
                    en neemt deze in behandeling.
                </p>
                <p id="success-nieuw-potje" class="hidden" style="margin-top: 12px;">
                    üëâ <a href="potje-aanvragen.html"><strong>Direct een nieuw potje aanvragen</strong></a>
                </p>
                <p style="margin-top: 8px; font-size: 0.8rem; color: var(--gray-500);">
                    Van de straat, voor de straat üß°
                </p>
                <button onclick="resetForm()" class="btn btn-secondary">Nieuwe afrekening</button>
            </div>
        </main>
        </div>

        <footer class="footer-pro">
            <div class="footer-tagline">Van de straat, voor de straat üß°</div>
            <div class="footer-domain">straatambassadeurs.nl</div>
            <div class="footer-links" style="margin-bottom:6px; font-size:0.72rem;"><a href="mailto:info@straatambassadeurs.nl" style="color:rgba(255,255,255,0.7); text-decoration:none;">‚úâÔ∏è info@straatambassadeurs.nl</a></div>
            <div class="footer-copy">¬© 2026 Straatambassadeurs Vathorst &amp; Hooglanderveen ¬∑ Een initiatief van bewoners</div>
        </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    <script src="supabase-config.js"></script>
    <script src="form-validation.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            window.supabaseClient = window.supabase.createClient('https://knxdefuncbzzbrunhlxg.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtueGRlZnVuY2J6emJydW5obHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwMjM0NzIsImV4cCI6MjA4NTU5OTQ3Mn0.QRQ0uxK65s_9EaVZkqpFMGOGCvpH5GKisHqg1ZZay3Y');
            
            const FV = FormValidation;
            const naamEl = document.getElementById('naam');
            const straatEl = document.getElementById('straat');
            const telefoonEl = document.getElementById('telefoon');
            const emailEl = document.getElementById('email');

            // Blur validation
            FV.attachBlurValidation(naamEl, () => FV.validateRequired(naamEl, 'Naam', 2));
            FV.attachBlurValidation(telefoonEl, () => FV.validatePhone(telefoonEl));
            FV.attachBlurValidation(emailEl, () => FV.validateEmailOptional(emailEl));

            // Straat dropdown
            straatEl.addEventListener('change', (e) => {
                if (e.target.value) FV.clearError(straatEl);
                const andereVeld = document.getElementById('andere-straat-veld');
                if (e.target.value === 'Anders') {
                    andereVeld.classList.remove('hidden');
                    document.getElementById('andere-straat').required = true;
                } else {
                    andereVeld.classList.add('hidden');
                    document.getElementById('andere-straat').required = false;
                }
                // Update straatnaam in bankgegevens
                updateStraatInvulling();
            });

            document.getElementById('afrekening-form').addEventListener('submit', handleSubmit);
        });

        function updateStraatInvulling() {
            const straatEl = document.getElementById('straat');
            let straat = straatEl.value;
            if (straat === 'Anders') straat = document.getElementById('andere-straat').value || '[jouw straatnaam]';
            if (!straat) straat = '[jouw straatnaam]';
            document.querySelectorAll('.straat-invulling').forEach(el => el.textContent = straat);
        }

        function toggleVervolg() {
            const nieuw = document.querySelector('input[name="vervolg"][value="nieuw_potje"]').checked;
            const stoppen = document.querySelector('input[name="vervolg"][value="stoppen"]').checked;
            document.getElementById('vervolg-nieuw').classList.toggle('hidden', !nieuw);
            document.getElementById('vervolg-stoppen').classList.toggle('hidden', !stoppen);
            if (stoppen) updateStraatInvulling();
        }
        
        async function handleSubmit(e) {
            e.preventDefault();

            // Honeypot
            if (document.getElementById('company').value) return;

            // Turnstile
            const turnstileToken = document.querySelector('[name="cf-turnstile-response"]')?.value;
            if (!turnstileToken) {
                alert('Wacht tot de beveiligingscheck is voltooid.');
                return;
            }
            
            const FV = FormValidation;
            const naamEl = document.getElementById('naam');
            const straatEl = document.getElementById('straat');
            const telefoonEl = document.getElementById('telefoon');
            const emailEl = document.getElementById('email');
            const vervolgRadio = document.querySelector('input[name="vervolg"]:checked');

            // Validate
            let valid = true;
            if (!FV.validateRequired(naamEl, 'Naam', 2)) valid = false;
            
            if (!straatEl.value) {
                FV.showError(straatEl, 'Kies je straat');
                valid = false;
            } else {
                FV.clearError(straatEl);
            }
            
            if (straatEl.value === 'Anders') {
                const andereStraat = document.getElementById('andere-straat');
                if (!FV.validateRequired(andereStraat, 'Straatnaam', 2)) valid = false;
            }

            if (!FV.validatePhone(telefoonEl)) valid = false;
            if (!FV.validateEmailOptional(emailEl)) valid = false;

            // Bonregels: minstens 1 met omschrijving
            const bonregels = getBonregelsData();
            if (bonregels.length === 0) {
                alert('Voeg minimaal √©√©n bonregel toe.');
                valid = false;
            }

            // Vervolg radio required
            if (!vervolgRadio) {
                const vervolgGroup = document.querySelector('input[name="vervolg"]').closest('.form-group');
                if (!vervolgGroup.querySelector('.error-msg')) {
                    const errorEl = document.createElement('div');
                    errorEl.className = 'error-msg';
                    errorEl.textContent = 'Kies wat je hierna wilt doen';
                    vervolgGroup.appendChild(errorEl);
                }
                valid = false;
            }

            if (!valid) {
                const firstError = document.querySelector('.field-error, .error-msg');
                if (firstError) firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }

            let straatValue = straatEl.value;
            if (straatValue === 'Anders') straatValue = document.getElementById('andere-straat').value;
            
            const formData = {
                ambassadeur_naam: naamEl.value,
                straat: straatValue,
                telefoon: telefoonEl.value,
                email: emailEl.value || null,
                afrekening_overzicht: JSON.stringify(bonregels),
                afrekening_totaal: document.getElementById('bon-totaal').textContent,
                keuze: vervolgRadio.value,
                status: 'nieuw',
                created_at: new Date().toISOString()
            };
            
            const submitBtn = document.querySelector('#afrekening-form button[type="submit"]');
            if (submitBtn) { submitBtn.disabled = true; submitBtn.textContent = 'Versturen...'; }
            
            try {
                if (window.supabaseClient) {
                    // Upload bonnetjes
                    const bonnetjesFiles = document.getElementById('bonnetjes-upload').files;
                    const bonnetjesLinks = [];
                    const MAX_FILE_SIZE = 10 * 1024 * 1024;
                    
                    for (const file of bonnetjesFiles) {
                        if (file.size > MAX_FILE_SIZE) {
                            alert(`Bestand "${file.name}" is groter dan 10 MB. Kies een kleiner bestand.`);
                            if (submitBtn) { submitBtn.disabled = false; submitBtn.textContent = 'üìã Afrekening indienen'; }
                            return;
                        }
                        const fileName = `afrekeningen/${Date.now()}_${file.name.replace(/[^a-zA-Z0-9._-]/g, '_')}`;
                        const { error: uploadError } = await window.supabaseClient.storage
                            .from('uploads')
                            .upload(fileName, file);
                        if (!uploadError) {
                            const { data: urlData } = window.supabaseClient.storage.from('uploads').getPublicUrl(fileName);
                            bonnetjesLinks.push({ name: file.name, url: urlData.publicUrl });
                        }
                    }

                    formData.bonnetjes_urls = bonnetjesLinks.length > 0 ? JSON.stringify(bonnetjesLinks) : null;

                    const { error } = await window.supabaseClient
                        .from('potje_afrekeningen')
                        .insert([formData]);
                    
                    if (error) throw error;

                    await fetch('/.netlify/functions/notify', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ type: 'afrekening', data: formData, turnstileToken })
                    }).catch(() => {});
                }
                
                document.getElementById('afrekening-form').classList.add('hidden');
                document.getElementById('success-message').classList.remove('hidden');
                
                // Show link to potje-aanvragen if they want a new one
                if (vervolgRadio.value === 'nieuw_potje') {
                    document.getElementById('success-nieuw-potje').classList.remove('hidden');
                }
                
            } catch (error) {
                console.error('Error:', error);
                alert('Er ging iets mis. Probeer het opnieuw of neem contact op via WhatsApp.');
                if (submitBtn) { submitBtn.disabled = false; submitBtn.textContent = 'üìã Afrekening indienen'; }
            }
        }
        
        // Bonregels
        function voegBonregelToe() {
            const container = document.getElementById('bonregels-container');
            const count = container.querySelectorAll('.bonregel').length + 1;
            const row = document.createElement('div');
            row.className = 'bonregel';
            row.style.cssText = 'display:grid; grid-template-columns: 50px 1fr 90px 32px; gap:6px; align-items:center; margin-bottom:4px;';
            row.innerHTML = `
                <input type="text" class="bon-nr" value="${count}" style="padding:8px; font-size:0.85rem; border:1px solid #93c5fd; border-radius:6px; text-align:center;">
                <input type="text" class="bon-omschrijving" placeholder="Omschrijving" style="padding:8px; font-size:0.85rem; border:1px solid #93c5fd; border-radius:6px;">
                <input type="text" class="bon-bedrag" placeholder="‚Ç¨ 0,00" style="padding:8px; font-size:0.85rem; border:1px solid #93c5fd; border-radius:6px; text-align:right;" oninput="berekenTotaal()">
                <button type="button" onclick="verwijderBonregel(this)" style="background:none; border:none; color:#ef4444; font-size:1.1rem; cursor:pointer; padding:0;">‚úï</button>
            `;
            container.appendChild(row);
        }
        function verwijderBonregel(btn) {
            btn.closest('.bonregel').remove();
            berekenTotaal();
        }
        function berekenTotaal() {
            let totaal = 0;
            document.querySelectorAll('.bon-bedrag').forEach(el => {
                const val = el.value.replace(/[‚Ç¨\s]/g, '').replace(',', '.');
                const num = parseFloat(val);
                if (!isNaN(num)) totaal += num;
            });
            document.getElementById('bon-totaal').textContent = totaal.toFixed(2).replace('.', ',');
        }
        function getBonregelsData() {
            const regels = [];
            document.querySelectorAll('.bonregel').forEach(row => {
                const nr = row.querySelector('.bon-nr').value;
                const omschrijving = row.querySelector('.bon-omschrijving').value;
                const bedrag = row.querySelector('.bon-bedrag').value;
                if (omschrijving || bedrag) regels.push({ nr, omschrijving, bedrag });
            });
            return regels;
        }

        // Bonnetjes preview
        document.getElementById('bonnetjes-upload').addEventListener('change', function() {
            const preview = document.getElementById('bonnetjes-preview');
            preview.innerHTML = '';
            const MAX = 10 * 1024 * 1024;
            [...this.files].forEach(file => {
                const tooLarge = file.size > MAX;
                const tag = document.createElement('div');
                tag.style.cssText = `background:${tooLarge ? '#fef2f2' : '#e8f4fd'};border-radius:6px;padding:4px 10px;font-size:0.75rem;color:${tooLarge ? '#dc2626' : '#1a2744'};display:flex;align-items:center;gap:4px;`;
                const size = file.size > 1024*1024 ? (file.size/1024/1024).toFixed(1)+' MB' : (file.size/1024).toFixed(0)+' KB';
                tag.innerHTML = 'üìé ' + file.name + ' <span style="color:#888">(' + size + ')</span>' + (tooLarge ? ' ‚ö†Ô∏è te groot!' : '');
                preview.appendChild(tag);
            });
        });

        function resetForm() {
            document.getElementById('afrekening-form').reset();
            document.getElementById('afrekening-form').classList.remove('hidden');
            document.getElementById('success-message').classList.add('hidden');
            document.getElementById('success-nieuw-potje').classList.add('hidden');
            document.getElementById('andere-straat-veld').classList.add('hidden');
            document.getElementById('vervolg-nieuw').classList.add('hidden');
            document.getElementById('vervolg-stoppen').classList.add('hidden');
            document.getElementById('bonnetjes-preview').innerHTML = '';
            document.querySelectorAll('.field-error').forEach(el => el.classList.remove('field-error'));
            document.querySelectorAll('.error-msg').forEach(el => el.remove());
        }
    </script>
    <script src="search-index.js"></script>
    <script src="search.js"></script>

    <!-- Sidebar Menu -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>
    <div class="sidebar-menu" id="sidebarMenu">
        <div class="sidebar-header">
            <span>Menu</span>
            <button class="sidebar-close" onclick="closeSidebar()" aria-label="Sluiten">&times;</button>
        </div>
        <nav class="sidebar-nav">
            <a href="index.html">Home</a>
            <a href="nieuws.html">Nieuws</a>
            <a href="kaart.html">Kaart</a>
            <div class="sidebar-divider"></div>
            <a href="over-sa.html">Ambassadeurs</a>
            <a href="over-sa.html" class="sidebar-sub">Over SA</a>
            <a href="aanmelden.html" class="sidebar-sub">Aanmelden</a>
            <a href="potje-aanvragen.html" class="sidebar-sub">Potje aanvragen</a>
            <a href="potje-afrekenen.html" class="sidebar-sub">Potje afrekenen</a>
            <div class="sidebar-divider"></div>
            <a href="over-kerngroep.html">Kerngroep</a>
            <a href="contact.html">Contact</a>
            <a href="admin.html">Beheer</a>
        </nav>
    </div>
    <script>
    function openSidebar(){document.getElementById('sidebarMenu').classList.add('active');document.getElementById('sidebarOverlay').classList.add('active');document.body.style.overflow='hidden';}
    function closeSidebar(){document.getElementById('sidebarMenu').classList.remove('active');document.getElementById('sidebarOverlay').classList.remove('active');document.body.style.overflow='';}
    </script>
</body>
</html>
