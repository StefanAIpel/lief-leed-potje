<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaart - Straatambassadeurs Vathorst & Hooglanderveen</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="theme-color" content="#1a2744">
    <link rel="icon" href="favicon.png">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        #map {
            height: 450px;
            width: 100%;
            border-radius: 12px;
            margin-top: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            background: #f0f0f0;
        }
        /* Fix Leaflet tiles */
        .leaflet-container {
            width: 100% !important;
            height: 100% !important;
        }
        .leaflet-tile-container img {
            width: 256px !important;
            height: 256px !important;
        }
        @media (min-width: 1024px) {
            #map { height: 500px; }
        }
        .map-legend {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-top: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .map-legend h4 {
            color: var(--night-blue);
            margin-bottom: 12px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 8px 0;
            font-size: 0.9rem;
        }
        .legend-marker {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .marker-active { background: #22c55e; }
        .marker-kerngroep { background: #f59e0b; }
        .stats-box {
            background: linear-gradient(135deg, var(--night-blue), var(--street-blue));
            color: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            text-align: center;
        }
        .stats-box .stat-num {
            font-size: 2rem;
            font-weight: 700;
        }
        .stats-box .stat-label {
            font-size: 0.85rem;
            opacity: 0.9;
        }
        .street-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }
        .street-item {
            background: var(--gray-100);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        .coverage-info {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .coverage-info h4 {
            color: var(--night-blue);
            margin-bottom: 8px;
        }
        .cta-join {
            display: block;
            background: var(--accent-gold);
            color: var(--night-blue);
            text-align: center;
            padding: 16px;
            border-radius: 12px;
            margin-top: 20px;
            text-decoration: none;
            font-weight: 600;
        }
        .cta-join:hover {
            box-shadow: 0 4px 12px rgba(244,197,66,0.4);
        }
        .leaflet-popup-content {
            font-family: 'Inter', sans-serif;
        }
        .popup-title {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 4px;
        }
        .popup-name {
            color: #666;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo">
                    <img src="logo.jpg" alt="Straatambassadeurs" class="logo-img">
                    <div>
                        <div class="header-title">Vathorst & Hooglanderveen</div>
                        <div class="header-subtitle">Samen maken we de buurt mooier</div>
                    </div>
                </div>
                <nav>
                    <a href="index.html">Home</a>
                    <a href="nieuws.html">Nieuws</a>
                    <a href="kaart.html" class="active">Kaart</a>
                    <a href="over-ons.html">Over ons</a>
                    <a href="admin.html">Beheer</a>
                </nav>
            </div>
        </header>

        <main>
            <section class="hero" style="padding: 24px 0;">
                <h2>üìç Onze Dekking</h2>
                <p>Bekijk waar onze straatambassadeurs actief zijn</p>
            </section>

            <div class="stats-box">
                <div>
                    <div class="stat-num" id="total-ambassadors">35+</div>
                    <div class="stat-label">Ambassadeurs</div>
                </div>
                <div>
                    <div class="stat-num" id="total-streets">35</div>
                    <div class="stat-label">Straten</div>
                </div>
                <div>
                    <div class="stat-num">3750+</div>
                    <div class="stat-label">Huishoudens bereik</div>
                </div>
            </div>

            <div id="map"></div>

            <div class="map-legend">
                <h4>Legenda</h4>
                <div class="legend-item">
                    <div class="legend-marker marker-active"></div>
                    <span>Straat met actieve ambassadeur</span>
                </div>
                <div class="legend-item">
                    <div class="legend-marker marker-kerngroep"></div>
                    <span>Kerngroeplid</span>
                </div>
            </div>

            <div class="coverage-info">
                <h4>üèòÔ∏è Straten met ambassadeur</h4>
                <p>Klik op een marker voor meer informatie</p>
                <div class="street-list" id="street-list"></div>
            </div>

            <a href="aanmelden.html" class="cta-join">
                üôã Wordt jouw straat nog niet vertegenwoordigd? Word ambassadeur!
            </a>
        </main>

        <footer>
            <div class="footer-title">Straatambassadeurs Vathorst & Hooglanderveen</div>
            <div class="footer-tagline">Van de straat, voor de straat üß°</div>
        </footer>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Echte straatambassadeurs data met geocoded co√∂rdinaten
        const straatCoords = {
            "Paulinapolder": { lat: 52.1925097, lng: 5.4305809 },
            "Heideweg": { lat: 52.1898619, lng: 5.4249279 },
            "Hofstede": { lat: 52.1891041, lng: 5.4324484 },
            "Johannes van Rossumlaan": { lat: 52.1852454, lng: 5.4289739 },
            "Geulemerberg": { lat: 52.1920, lng: 5.4130 }, // geschat
            "Zeisum": { lat: 52.1832292, lng: 5.4279499 },
            "Hoekveen": { lat: 52.1886294, lng: 5.4347052 },
            "Lofoten": { lat: 52.1893250, lng: 5.4201045 },
            "Dirk van Weelaan": { lat: 52.1849057, lng: 5.4309043 },
            "Durgerdamhaven": { lat: 52.1947384, lng: 5.4344950 },
            "Laaxumstraat": { lat: 52.1992200, lng: 5.4333143 },
            "Laakboulevard": { lat: 52.1940758, lng: 5.4330334 },
            "De Gavel": { lat: 52.1841228, lng: 5.4320435 },
            "Weteringkade": { lat: 52.1952659, lng: 5.4331868 },
            "Archemerberg": { lat: 52.1917559, lng: 5.4121824 },
            "Beemster": { lat: 52.1995879, lng: 5.4215561 },
            "Tankenberg": { lat: 52.2008762, lng: 5.4196758 },
            "Riesenberg": { lat: 52.2000879, lng: 5.4138318 },
            "Landweg": { lat: 52.1925390, lng: 5.4287990 },
            "Zwarte Zee": { lat: 52.1919328, lng: 5.4210545 },
            "Boterberg": { lat: 52.1933428, lng: 5.4120645 },
            "Lauwersmeer": { lat: 52.1918787, lng: 5.4183298 },
            "Zijpenberg": { lat: 52.1963133, lng: 5.4178958 },
            "Ameliapolder": { lat: 52.1960053, lng: 5.4282780 },
            "Emminkhuizerberg": { lat: 52.1966354, lng: 5.4104856 },
            "Suzannepolder": { lat: 52.1935, lng: 5.4295 }, // geschat
            "Straat van Dover": { lat: 52.1942104, lng: 5.4150062 },
            "Eilandspolder": { lat: 52.1979169, lng: 5.4212388 },
            "Eschberg": { lat: 52.1976657, lng: 5.4112200 },
            "Braamberg": { lat: 52.1938342, lng: 5.4119706 },
            "Vijlenerberg": { lat: 52.1983645, lng: 5.4132494 },
            "Kolhornkade": { lat: 52.1989809, lng: 5.4300437 },
            "Laan van Bovenduist": { lat: 52.2071081, lng: 5.4069834 }
        };

        // Echte ambassadeurs data (uit ambassadeurs-data.js)
        const ambassadeurs = [
            { code: 'S1', naam: 'Alie Blanken', straat: 'Paulinapolder' },
            { code: 'S3', naam: 'Marjolijn Winter Visser', straat: 'Heideweg' },
            { code: 'S4', naam: 'Frank Venema', straat: 'Hofstede' },
            { code: 'S6', naam: 'Angelique Blom', straat: 'Johannes van Rossumlaan' },
            { code: 'S7', naam: 'Esther Arentsen', straat: 'Geulemerberg' },
            { code: 'S9', naam: 'Bejanca Eilander', straat: 'Zeisum', kerngroep: true },
            { code: 'S10', naam: 'Lia Stok', straat: 'Hoekveen' },
            { code: 'S11', naam: 'Carien Veldhuis', straat: 'Lofoten', kerngroep: true },
            { code: 'S13', naam: 'Miranda en Hans van Kley', straat: 'Dirk van Weelaan' },
            { code: 'S16', naam: 'Annemiek van Raalten', straat: 'Durgerdamhaven' },
            { code: 'S17', naam: 'Purdey Hof', straat: 'Laaxumstraat' },
            { code: 'S18', naam: 'Florance Palm', straat: 'Laakboulevard' },
            { code: 'S20', naam: 'Kundike Sinselmeijer', straat: 'De Gavel', kerngroep: true },
            { code: 'S22', naam: 'Ellen Siegers', straat: 'Weteringkade' },
            { code: 'S23', naam: 'Monica de Jong', straat: 'Archemerberg' },
            { code: 'S25', naam: 'Henny Rouwhorst', straat: 'Heideweg' },
            { code: 'S26', naam: 'Stefan Dijkstra', straat: 'Beemster', kerngroep: true },
            { code: 'S27', naam: 'Sanne Poort', straat: 'Tankenberg' },
            { code: 'S28', naam: 'Eline Stoffer', straat: 'Riesenberg' },
            { code: 'S29', naam: 'Corrine van Wee', straat: 'Landweg' },
            { code: 'S30', naam: 'Judith Jonkers', straat: 'Zwarte Zee' },
            { code: 'S31', naam: 'Bianca Blom', straat: 'Boterberg' },
            { code: 'S32', naam: 'Richard Kamer', straat: 'Lauwersmeer', kerngroep: true },
            { code: 'S33', naam: 'Karin Heinen', straat: 'Zijpenberg' },
            { code: 'S34', naam: 'Janine Frederiks', straat: 'Ameliapolder' },
            { code: 'S35', naam: 'Jet Kroes', straat: 'Emminkhuizerberg' },
            { code: 'S36', naam: 'Rene van de Most', straat: 'Suzannepolder' },
            { code: 'S37', naam: 'Anika Blessing', straat: 'Straat van Dover' },
            { code: 'S38', naam: 'Esther Visser', straat: 'Eilandspolder' },
            { code: 'S39', naam: 'Ingrid Siepel', straat: 'Eschberg' },
            { code: 'S40', naam: 'Jeannette Bijl', straat: 'Braamberg' },
            { code: 'S41', naam: 'Hanna Herbers', straat: 'Vijlenerberg' },
            { code: 'S42', naam: 'Ewa Albering', straat: 'Kolhornkade' },
            { code: 'S43', naam: 'Miranda van Buitenen', straat: 'Laan van Bovenduist' }
        ];

        // Initialiseer kaart
        const map = L.map('map').setView([52.1940, 5.4220], 14);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap'
        }).addTo(map);

        // Custom icons
        const ambassadeurIcon = L.divIcon({
            className: 'custom-marker',
            html: '<div style="background:#22c55e;width:18px;height:18px;border-radius:50%;border:3px solid white;box-shadow:0 2px 6px rgba(0,0,0,0.3);"></div>',
            iconSize: [24, 24],
            iconAnchor: [12, 12]
        });

        const kerngroepIcon = L.divIcon({
            className: 'custom-marker',
            html: '<div style="background:#f59e0b;width:22px;height:22px;border-radius:50%;border:3px solid white;box-shadow:0 2px 6px rgba(0,0,0,0.3);display:flex;align-items:center;justify-content:center;font-size:11px;">‚≠ê</div>',
            iconSize: [28, 28],
            iconAnchor: [14, 14]
        });

        // Voeg markers toe
        const streetList = document.getElementById('street-list');
        const uniqueStreets = new Set();

        ambassadeurs.forEach(amb => {
            const coords = straatCoords[amb.straat];
            if (!coords) {
                console.warn('Geen co√∂rdinaten voor:', amb.straat);
                return;
            }

            const icon = amb.kerngroep ? kerngroepIcon : ambassadeurIcon;
            const marker = L.marker([coords.lat, coords.lng], { icon }).addTo(map);
            
            marker.bindPopup(`
                <div class="popup-title">${amb.straat}</div>
                <div class="popup-name">${amb.kerngroep ? '‚≠ê Kerngroep: ' : 'üìç '} ${amb.naam}</div>
            `);

            // Voeg toe aan stratenlijst (uniek)
            if (!uniqueStreets.has(amb.straat)) {
                uniqueStreets.add(amb.straat);
                const item = document.createElement('span');
                item.className = 'street-item';
                item.textContent = `${amb.kerngroep ? '‚≠ê' : '‚úÖ'} ${amb.straat}`;
                streetList.appendChild(item);
            }
        });

        // Update stats
        document.getElementById('total-ambassadors').textContent = ambassadeurs.length + '+';
        document.getElementById('total-streets').textContent = uniqueStreets.size;
    </script>
</body>
</html>
