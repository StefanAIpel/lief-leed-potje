<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Straatambassadeurs Vathorst & Hooglanderveen | Amersfoort</title>
    <link rel="stylesheet" href="styles.css?v=20260719r2">
    <meta name="theme-color" content="#1a2744">
    <meta name="description" content="Neem contact op met de straatambassadeurs Vathorst & Hooglanderveen. Vragen over buurtbudget, Burendag of het Lief & Leed potje in Amersfoort.">
    <meta name="keywords" content="straatambassadeurs, Vathorst, Hooglanderveen, VathetVeen, Amersfoort, Amersfoort Noord, burendag, buren, buurt, wijkkrant, buurtbudget, lief en leed, kerngroep, buurtverbinding, buurtinitiatieven, wijkactiviteiten, bewonersinitiatieven, sociale cohesie, leefbaarheid, Oranjefonds, NLdoet, gemeente Amersfoort, Bovenduist, Waterdorp, De Laak, De Bron, indebuurt033">
    <meta property="og:title" content="Contact - Straatambassadeurs Vathorst & Hooglanderveen">
    <meta property="og:description" content="Contact opnemen met de straatambassadeurs van Vathorst en Hooglanderveen, Amersfoort.">
    <meta property="og:url" content="https://straatambassadeurs.nl/contact.html">
    <meta property="og:image" content="https://straatambassadeurs.nl/logo.jpg">
    <link rel="canonical" href="https://straatambassadeurs.nl/contact.html">
    <link rel="icon" href="favicon.png">
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
</head>
<body>
        <header>
            <div class="header-content">
                <a href="index.html" class="logo" style="text-decoration:none;">
                    <picture><source media="(max-width: 600px)" srcset="images/logo-square.png"><img src="images/logo-header-new.png" alt="Straatambassadeurs" class="logo-img"></picture>
                    <div>
                        <div class="header-title">Vathorst &<br>Hooglanderveen</div>
                        <div class="header-subtitle">Samen maken we<br>de buurt mooier!</div>
                    </div>
                </a>
                <button class="nav-toggle" onclick="document.querySelector('nav').classList.toggle('active')" aria-label="Menu"><span class="nav-toggle-label">MENU</span> â˜°</button>
                <nav>
                    <a href="index.html">Home</a>
                    <a href="nieuws.html">Nieuws</a>
                    <a href="kaart.html">Kaart</a>
                    <div class="nav-dropdown">
                        <a href="over-sa.html" class="nav-dropdown-toggle">Ambassadeurs â–¾</a>
                        <div class="nav-dropdown-menu">
                            <a href="over-sa.html">Informatie</a>
                            <a href="aanmelden.html">Aanmelden</a>
                            <a href="potje-aanvragen.html">Potje aanvragen</a>
                            <a href="potje-afrekenen.html">Potje afrekenen</a>
                            <hr style="margin:6px 8px;border:none;border-top:1px solid rgba(0,0,0,0.1);">
                            <a href="handleiding.html">ğŸ“– Handleiding</a>
                        </div>
                    </div>
                    <a href="over-kerngroep.html">Kerngroep</a>
                    <a href="contact.html" class="active">Contact</a>
                    <a href="admin.html">Beheer</a>
                </nav>
                <button class="sidebar-toggle" onclick="openSidebar()" aria-label="Alle pagina's">â˜°</button>
                <div class="header-search"><a href="handleiding.html" title="Handleiding" style="display:inline-flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:50%;background:rgba(255,255,255,0.15);color:white;text-decoration:none;font-size:11px;flex-shrink:0;margin-right:6px;">â”</a>
                    <input type="text" id="site-search" placeholder="Zoeken..." autocomplete="off">
                    <div id="search-results" class="search-results"></div>
                </div>
            </div>
        </header>

        <div class="container">
        <main>
            <!-- Hero -->
            <section class="hero">
                <div>
                    <h2>âœ‰ï¸ Contact</h2>
                    <p>Neem contact met ons op</p>
                </div>
            </section>

            <!-- Contact opties -->
            <section class="info-section">
                <h3>ğŸ“± Bereik ons via</h3>
                <p style="margin-bottom: 12px;">
                    Heb je een vraag? Neem gerust contact met ons op!
                </p>
                
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;">
                    <a href="mailto:info@straatambassadeurs.nl" class="cta-card-large cta-blue" style="padding: 14px 8px;">
                        <div class="cta-icon" style="font-size: 1.4rem;">âœ‰ï¸</div>
                        <div class="cta-title" style="font-size: 0.8rem;">E-mail</div>
                        <div class="cta-sub" style="display: block; font-size: 0.68rem;">Mail ons</div>
                    </a>
                    <a href="https://www.facebook.com/straatambassadeursvhv" target="_blank" class="cta-card-large cta-purple" style="padding: 14px 8px;">
                        <div class="cta-icon" style="font-size: 1.4rem;">ğŸ“˜</div>
                        <div class="cta-title" style="font-size: 0.8rem;">Facebook</div>
                        <div class="cta-sub" style="display: block; font-size: 0.68rem;">Volg ons</div>
                    </a>
                    <a href="https://www.wijkconnect.com/amersfoort/vathorst-hooglanderveen/organisaties/4516/straatambassadeurs" target="_blank" class="cta-card-large cta-green" style="padding: 14px 8px;">
                        <div class="cta-icon" style="font-size: 1.4rem;">ğŸ”—</div>
                        <div class="cta-title" style="font-size: 0.8rem;">WijkConnect</div>
                        <div class="cta-sub" style="display: block; font-size: 0.68rem;">Bekijk profiel</div>
                    </a>
                </div>
            </section>

            <!-- Contactformulier -->
            <section class="info-section" style="margin-top: 24px;">
                <h3>ğŸ“ Stuur een bericht</h3>
                
                <form id="contact-form" class="form-card" style="padding: 0; box-shadow: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="naam">Naam <span class="required">*</span></label>
                            <input type="text" id="naam" name="naam" required placeholder="Je naam">
                        </div>
                        <div class="form-group">
                            <label for="email">E-mail <span class="required">*</span></label>
                            <input type="email" id="email" name="email" required placeholder="jouw@email.nl">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="onderwerp">Onderwerp</label>
                        <select id="onderwerp" name="onderwerp">
                            <option value="algemeen">Algemene vraag</option>
                            <option value="aanmelden">Aanmelden als ambassadeur</option>
                            <option value="potje">Vraag over Lief & Leed potje</option>
                            <option value="welkomsttasje">Welkomsttasje aanvragen</option>
                            <option value="taartenactie">Taartenactie Burendag</option>
                            <option value="bijeenkomst">Komende bijeenkomst</option>
                            <option value="samenwerking">Samenwerking</option>
                            <option value="anders">Anders</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="bericht">Bericht <span class="required">*</span></label>
                        <textarea id="bericht" name="bericht" rows="4" required placeholder="Typ hier je vraag of opmerking..."></textarea>
                    </div>
                    
                    <!-- Honeypot: verborgen veld tegen spam bots -->
                    <div class="hp-field" aria-hidden="true">
                        <label for="website">Website</label>
                        <input type="text" id="website" name="website" tabindex="-1" autocomplete="off">
                    </div>

                    <!-- Cloudflare Turnstile captcha -->
                    <!-- TODO: Vervang sitekey door echte key van Cloudflare dashboard -->
                    <div class="cf-turnstile" data-sitekey="0x4AAAAAACZV3vQxfcbSj8Va" data-theme="light"></div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-full">
                            ğŸ“¤ Versturen
                        </button>
                    </div>
                </form>
                
                <div id="contact-success" class="info-box hidden" style="margin-top: 12px; background: #d1fae5; border-color: #10b981;">
                    <span>âœ…</span>
                    <span>Bedankt voor je bericht! We nemen zo snel mogelijk contact met je op.</span>
                </div>
            </section>

            <!-- Adres -->
            <section class="info-section" style="background: #f8fafc; border: 1px solid #e5e7eb; margin-top: 24px;">
                <h3 style="font-size: 0.9rem; color: var(--gray-600);">ğŸ“ Correspondentieadres</h3>
                <p style="font-size: 0.85rem; color: var(--gray-600); margin-top: 8px;">
                    Straatambassadeurs Vathorst - Hooglanderveen<br>
                    t.a.v. Stefan Dijkstra<br>
                    Beemster 26<br>
                    3825 KC Amersfoort
                </p>
            </section>
        </main>
        </div>

        <footer class="footer-pro">
            <div class="footer-tagline">Van de straat, voor de straat ğŸ§¡</div>
            <div class="footer-domain">straatambassadeurs.nl</div>
            <div class="footer-links" style="margin-bottom:6px; font-size:0.72rem;"><a href="mailto:info@straatambassadeurs.nl" style="color:rgba(255,255,255,0.7); text-decoration:none;">âœ‰ï¸ info@straatambassadeurs.nl</a></div>
            <div class="footer-links" style="margin-bottom:4px;font-size:0.72rem;"><a href="handleiding.html" style="color:rgba(255,255,255,0.7);text-decoration:none;">â“ Hulp nodig? Bekijk de handleiding</a></div>
        <div class="footer-copy">Â© 2026 Straatambassadeurs Vathorst &amp; Hooglanderveen Â· Een initiatief van bewoners</div>
        </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    <script src="supabase-config.js"></script>
    <script src="form-validation.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            initSupabase();
            
            const FV = FormValidation;
            const naamEl = document.getElementById('naam');
            const emailEl = document.getElementById('email');
            const berichtEl = document.getElementById('bericht');

            // Blur validation
            FV.attachBlurValidation(naamEl, () => FV.validateRequired(naamEl, 'Naam', 2));
            FV.attachBlurValidation(emailEl, () => FV.validateEmailRequired(emailEl));
            FV.attachBlurValidation(berichtEl, () => FV.validateRequired(berichtEl, 'Bericht', 10));

            document.getElementById('contact-form').addEventListener('submit', async (e) => {
                e.preventDefault();

                // Honeypot check
                if (document.getElementById('website').value) return;

                // Turnstile token
                const turnstileToken = document.querySelector('[name="cf-turnstile-response"]')?.value;
                if (!turnstileToken) {
                    alert('Wacht tot de beveiligingscheck is voltooid.');
                    return;
                }
                
                // Run all validations
                let valid = true;
                if (!FV.validateRequired(naamEl, 'Naam', 2)) valid = false;
                if (!FV.validateEmailRequired(emailEl)) valid = false;
                if (!FV.validateRequired(berichtEl, 'Bericht', 10)) valid = false;

                if (!valid) {
                    const firstError = document.querySelector('.field-error');
                    if (firstError) firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    return;
                }

                const formData = {
                    naam: naamEl.value,
                    email: emailEl.value,
                    onderwerp: document.getElementById('onderwerp').value,
                    bericht: berichtEl.value,
                    created_at: new Date().toISOString()
                };
                
                const submitBtn = e.target.querySelector('button[type="submit"]');
                if (submitBtn) { submitBtn.disabled = true; submitBtn.textContent = 'Versturen...'; }
                
                try {
                    // Stuur notificatie email naar kerngroep via Resend
                    const response = await fetch('/.netlify/functions/notify', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ type: 'contact', data: formData, turnstileToken })
                    });
                    
                    if (!response.ok) throw new Error('Verzenden mislukt');
                    
                    // Save to Supabase contactberichten table
                    if (window.supabaseClient) {
                        try {
                            await window.supabaseClient.from('contactberichten').insert([{
                                naam: formData.naam,
                                email: formData.email,
                                onderwerp: formData.onderwerp,
                                bericht: formData.bericht,
                                created_at: formData.created_at
                            }]);
                        } catch (dbError) {
                            console.warn('Contactbericht niet opgeslagen in database:', dbError);
                        }
                    }
                    
                    document.getElementById('contact-form').reset();
                    // Clear any leftover validation states
                    document.querySelectorAll('.field-error').forEach(el => FV.clearError(el));
                    document.getElementById('contact-success').classList.remove('hidden');
                    
                    setTimeout(() => {
                        document.getElementById('contact-success').classList.add('hidden');
                    }, 8000);
                    
                } catch (error) {
                    console.error('Error:', error);
                    alert('Er ging iets mis. Mail ons direct: info@straatambassadeurs.nl');
                } finally {
                    if (submitBtn) { submitBtn.disabled = false; submitBtn.textContent = 'ğŸ“¬ Bericht versturen'; }
                }
            });
        });
    </script>
    <script src="search-index.js"></script>
    <script src="search.js"></script>

    <!-- Sidebar Menu -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>
    <div class="sidebar-menu" id="sidebarMenu">
        <div class="sidebar-header">
            <span>Menu</span>
            <button class="sidebar-close" onclick="closeSidebar()" aria-label="Sluiten">&times;</button>
        </div>
        <nav class="sidebar-nav">
            <a href="index.html">Home</a>
            <a href="nieuws.html">Nieuws</a>
            <a href="kaart.html">Kaart</a>
            <div class="sidebar-divider"></div>
            <a href="over-sa.html">Ambassadeurs</a>
            <a href="over-sa.html" class="sidebar-sub">Informatie</a>
            <a href="aanmelden.html" class="sidebar-sub">Aanmelden</a>
            <a href="potje-aanvragen.html" class="sidebar-sub">Potje aanvragen</a>
            <a href="potje-afrekenen.html" class="sidebar-sub">Potje afrekenen</a>
            <div class="sidebar-divider"></div>
            <a href="over-kerngroep.html">Kerngroep</a>
            <a href="contact.html">Contact</a>
            <a href="admin.html">Beheer</a>
        </nav>
    </div>
    <script>
    function openSidebar(){document.getElementById('sidebarMenu').classList.add('active');document.getElementById('sidebarOverlay').classList.add('active');document.body.style.overflow='hidden';}
    function closeSidebar(){document.getElementById('sidebarMenu').classList.remove('active');document.getElementById('sidebarOverlay').classList.remove('active');document.body.style.overflow='';}
    </script>
</body>
</html>
